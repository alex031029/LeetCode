# Round 1

要求设计一个短URL的系统（tiny URL）。具体要求下面两选一：

* 用户会每次提出一个长URL，该系统返回一个短URL
* 用户会每次提出一个长URL与短URL，记录这个组合

我选择设计第二种。我的设计思路：
1. 如果是临时系统，不需要大量响应，可以直接用map实现。
2. 如果请求量上升，可以使用mysql来实现查询功能，其中短url是primary key。
3. 如果读请求远多于写请求，可以设计一个读写锁。读写锁可以通过计时器来提高写请求的优先级，从而规避写请求长期不能执行。
4. 如果请求量继续上升，可以行程一个树结构，类似hierarchy。从而递归的请求。可以使用哈希，如Merkel tree来确定某个短url在具体哪个服务器中。
5. 可以设计cache来提高高频词组响应。比如使用redis。
6. 可以使用镜像服务器来减少物理延时。
